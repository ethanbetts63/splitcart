# SplitCart - Proposed User Shopping Flow

This document outlines the step-by-step user experience for creating a shopping list and finding the optimal purchasing strategy.

---

### **Phase 1: Building the Shopping List**

**Step 1: Add Items to List**
- The user searches for products one by one (e.g., "Milk", "Bread", "Apples").
- Search results show specific, real products from various stores (e.g., "Pauls Full Cream Milk 2L" at Coles, "Devondale Full Cream Milk 2L" at Woolworths).
- The user selects their preferred product for each item they need and adds it to their "My List". This selected item is considered their "optimal good" and serves as the baseline for substitutions.

---

### **Phase 2: Setting Preferences**

**Step 2: Define Shopping Constraints**
- The user provides their location (e.g., postcode or address).
- The user specifies which stores they are willing to shop at (e.g., checkboxes for Coles, Woolworths, Aldi).
- The user sets the maximum number of different stores they are willing to visit (e.g., "up to 2 stores").
- The user defines the maximum distance they are willing to travel.

**Step 3: Initiate Optimization**
- The user clicks a button like "Find My Savings" or "Optimize My Cart". From the user's perspective, this marks the end of the list-building phase.

---

### **Phase 3: Intelligent Substitutions**

**Step 4: Review Substitution Suggestions**
- The application processes the user's list, presenting one item at a time.
- For a given item (e.g., their chosen "Pauls Full Cream Milk 2L"), the system presents a list of potential substitutes we have identified as being comparable.
- Each suggestion clearly shows the substitute product and the potential savings (e.g., "Switch to 'Devondale Full Cream Milk 2L' and save $0.50").
- The user can select **one or more** of these suggestions as acceptable alternatives. They are not just picking one final substitute, but rather building a pool of acceptable options for the optimizer to choose from.
- The user proceeds through their entire list, approving or ignoring substitution suggestions for each item.

---

### **Phase 4: Viewing the Results**

**Step 5: Calculate and Display Optimal Carts**
- After the substitution phase is complete, the application's optimization engine runs.
- It calculates the best combination of original items and the user-approved substitutes, split across the user's preferred stores, to achieve the lowest possible total cost while respecting their travel constraints.

**Step 6: Show Final Shopping Lists**
- The final result is displayed to the user as a set of clear, actionable shopping listsâ€”one for each store they need to visit.
- For each store, the list will show exactly which items (whether the original or an approved substitute) to buy there.
- The display will prominently feature the total cost, the stores to visit, and the total savings achieved compared to buying their original list without optimization.


`
  +--------------------------------+
  |                                |
  |      Data Engine (Offline)     |
  | (manage.py scrape/update_db)   |
  |                                |
  +--------------------------------+
             |
             | (WRITES product & price data)
             v
  +--------------------------------+
  |                                |
  |         Django Database        |
  |  (Products, Prices, Stores)    |
  |                                |
  +--------------------------------+
             ^
             | (READS product & price data)
             | (WRITES user-specific data)
             v
  +--------------------------------+
  |                                |
  |    User-Facing API (Online)    |
  |      (Django REST API)         |
  |                                |
  +--------------------------------+
             ^
             | (HTTP Requests)
             v
  +--------------------------------+
  |                                |
  |       Frontend (Browser)       |
  |                                |
  +--------------------------------+
  `



  what does a user need to query to get through this process: 
  1. every time they search for an item they are querying the product database via a string match i guess. 
  2. when it comes to subsititution they are query the db for each products subsistute list. \
  3. finally the user will have a list of goods. Each good is actually a list. for non negotiable goods that list is len 1. but when the user gives the go ahead on a subsitute that list becomes [the orginal product, subsitute]