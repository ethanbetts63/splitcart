1.  **Backend `api/views/store_list_views.py` Modifications:**
    *   Secured `SelectedStoreList` endpoints to be `IsAuthenticatedOrReadOnly` (allowing anonymous GET requests).
    *   Updated `perform_create` to generate a unique name for new store lists, fixing the `IntegrityError`.
    *   Updated `get_queryset` to handle fetching store lists for anonymous users via `anonymous_id` query parameter.
2.  **Backend `api/views/anonymous_user_view.py` Creation:**
    *   Created a new view to handle anonymous user creation and their default store list.
    *   Added a URL pattern for this new view in `api/urls.py`.
3.  **Frontend `EditLocationPage.tsx` Modifications:**
    *   Conditionally rendered the store list management UI based on `isAuthenticated`.
    *   Updated `useEffect` to call `fetchActiveStoreList` for both authenticated and anonymous users.
    *   Updated `useAuth()` destructuring to include `anonymousId`.
4.  **Frontend `StoreContext.tsx` Modifications:**
    *   Renamed `fetchUserStoreLists` to `fetchActiveStoreList` and updated its logic to handle both authenticated and anonymous users.
    *   Updated the `StoreContext.Provider` value to expose `fetchActiveStoreList`.
    *   Fixed a TypeScript error related to `Set<unknown>` vs `Set<number>` by explicitly typing `useState` for `selectedStoreIds`.
    *   Fixed a TypeScript error related to `ReactNode` requiring a type-only import.
    *   Removed `isAuthenticated` from `useAuth` destructuring in `StoreProvider` as its value was not read.
    *   Updated `SelectedStoreListType` to remove `is_default` and add `last_used_at`.
5.  **Frontend `AuthContext.tsx` Modifications:**
    *   Updated `AuthContextType` to include `anonymousId`.
    *   Added `anonymousId` state and logic for managing it via cookies (creating an anonymous user via a new backend endpoint `/api/anonymous-user/` if needed).
    *   Updated `login` and `logout` functions to clear `anonymousId` cookie.
    *   Exposed `anonymousId` in `AuthContext.Provider`.
6.  **Backend `api/serializers.py` Modification:**
    *   Updated the `SelectedStoreListSerializer` to remove the `is_default` field and add `last_used_at` as a read-only field.
7.  **Plan Updates:**
    *   Updated `cart_management_plan.txt` to reflect all the backend and frontend changes made during this session, and included `TODO`s for the remaining work.